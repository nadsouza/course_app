  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_id" ON "categories" ("id")[0m
  [1m[35m (0.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_on_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_on_id' AND type='index'
[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_categories_on_name" ON "categories" ("name")[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "categories_courses" ("course_id" integer NOT NULL, "category_id" integer NOT NULL)[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE  INDEX "index_categories_courses_on_category_id" ON "categories_courses" ("category_id")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_categories_courses_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_categories_courses_on_category_id' AND type='index'
[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE  INDEX "index_categories_courses_on_course_id" ON "categories_courses" ("course_id")[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "courses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "user_id" integer, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "image" varchar)[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_courses_on_id" ON "courses" ("id")[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_courses_on_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_courses_on_id' AND type='index'
[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_courses_on_name" ON "courses" ("name")[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "courses_locations" ("course_id" integer NOT NULL, "location_id" integer NOT NULL)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE  INDEX "index_courses_locations_on_course_id" ON "courses_locations" ("course_id")[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_courses_locations_on_course_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_courses_locations_on_course_id' AND type='index'
[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE  INDEX "index_courses_locations_on_location_id" ON "courses_locations" ("location_id")[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "courses_prerequisites" ("course_id" integer NOT NULL, "prerequisite_id" integer NOT NULL)[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE  INDEX "index_courses_prerequisites_on_course_id" ON "courses_prerequisites" ("course_id")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_courses_prerequisites_on_course_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_courses_prerequisites_on_course_id' AND type='index'
[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE  INDEX "index_courses_prerequisites_on_prerequisite_id" ON "courses_prerequisites" ("prerequisite_id")[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "downvotes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "course_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_locations_on_id" ON "locations" ("id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_locations_on_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_locations_on_id' AND type='index'
[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_locations_on_name" ON "locations" ("name")[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "prerequisites" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL)[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "upvotes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "course_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar, "remember_digest" varchar)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_id" ON "users" ("id")[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170524201918)[0m
  [1m[35m (15.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20170423141630),
(20170425034612),
(20170425061433),
(20170425061552),
(20170425061600),
(20170425061909),
(20170425062009),
(20170425095439),
(20170428024055),
(20170508024656),
(20170508212417),
(20170509053624);

[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2017-07-19 04:17:00.884291"], ["updated_at", "2017-07-19 04:17:00.884291"]]
  [1m[35m (7.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('Web Development', '2017-07-19 04:17:01.254090', '2017-07-19 04:17:01.254090', 365508689)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "courses"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("name", "description", "created_at", "updated_at", "id") VALUES ('Web Programming', 'The course introduces you to the basic concepts of the World Wide Web, and the principles and tools that are used to develop Web applications. The course will provide an overview of Internet technology and will introduce you to current Web protocols, client side and server side programming, communication and design.', '2017-07-19 04:17:01.257272', '2017-07-19 04:17:01.257272', 365508689)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("name", "description", "created_at", "updated_at", "id") VALUES ('Test Course', 'This is a test course description', '2017-07-19 04:17:01.257272', '2017-07-19 04:17:01.257272', 411008527)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "locations"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at", "id") VALUES ('080.04.006', '2017-07-19 04:17:01.259190', '2017-07-19 04:17:01.259190', 573383855)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at", "id") VALUES ('056.05.097', '2017-07-19 04:17:01.259190', '2017-07-19 04:17:01.259190', 160114745)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at", "id") VALUES ('057.03.010', '2017-07-19 04:17:01.259190', '2017-07-19 04:17:01.259190', 438645419)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at", "id") VALUES ('080.04.011', '2017-07-19 04:17:01.259190', '2017-07-19 04:17:01.259190', 474635052)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "prerequisites"[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "id") VALUES ('John', 'Doe', 'john.doe@rmit.edu.au', '2017-07-19 04:17:01.263594', '2017-07-19 04:17:01.263594', 830138774)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "id") VALUES ('Jen', 'Doe', 'jen.doe@rmit.edu.au', '2017-07-19 04:17:01.263594', '2017-07-19 04:17:01.263594', 142689369)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "id") VALUES ('Luke', 'Dam', 'luke.dam@rmit.edu.au', '2017-07-19 04:17:01.263594', '2017-07-19 04:17:01.263594', 962534057)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "id") VALUES ('Ava', 'Brian', 'ava.obrian@rmit.edu.au', '2017-07-19 04:17:01.263594', '2017-07-19 04:17:01.263594', 897906622)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "id") VALUES ('Johnny', 'Huynh', 'johnny.huynh@rmit.edu.au', '2017-07-19 04:17:01.263594', '2017-07-19 04:17:01.263594', 766761845)[0m
  [1m[35m (9.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_first_name_should_not_be_too_short
-------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
UserTest: test_password_confirmation_should_be_present
------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", " "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
UserTest: test_get_user_full_name
---------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
UserTest: test_password_must_contain_at_least_one_uppercase_letter
------------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UserTest: test_last_name_should_not_be_too_short
------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UserTest: test_first_name_should_not_be_too_long
------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
UserTest: test_password_must_contain_at_least_one_number
--------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UserTest: test_password_should_be_present
-----------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UserTest: test_email_is_invalid
-------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaa@aa.C@m"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "johndoe@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "jen.doe@email.com"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
UserTest: test_first_name_should_be_present
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UserTest: test_password_should_be_at_least_8_characters
-------------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UserTest: test_password_should_be_less_than_32_characters
---------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UserTest: test_last_name_should_be_present
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_last_name_should_not_be_too_long
-----------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
UserTest: test_last_name_is_invalid
-----------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (4.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:01.422656"], ["updated_at", "2017-07-19 04:17:01.422656"], ["password_digest", "$2a$04$7aYFlgD9MJUjwirNDqdwCOKyHAZfLZyrVTFT5Pi8cwkdbMMfytxeO"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
UserTest: test_first_name_is_invalid
------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UserTest: test_email_should_not_be_too_short
--------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "a"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
UserTest: test_email_is_lowercase
---------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "EXAMPLE.USER@RMIT.EDU.AU"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:01.453177"], ["updated_at", "2017-07-19 04:17:01.453177"], ["password_digest", "$2a$04$7lt8WCmo/6MJE1AQO3l4DOdZbI4XatQhEwxt4TRlX7nyq.iprVgCW"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
CoursesControllerTest: test_guest_and_logged_in_user_can_visit_all_courses
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:02.099144"], ["updated_at", "2017-07-19 04:17:02.099144"], ["password_digest", "$2a$04$uGfz2KCsDM.8bfVQvuU1Z.FV4qhVAzLZ/0P7BJ3Ozg3po0rvQN/Tm"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
Started GET "/courses" for 127.0.0.1 at 2017-07-19 14:17:02 +1000
Processing by CoursesController#index as HTML
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."name" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  Rendered shared/_flash_messages.html.erb (0.5ms)
  [1m[36mPrerequisite Load (0.2ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mLocation Load (0.3ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  Rendered shared/_courses.html.erb (8447.3ms)
  Rendered courses/index.html.erb within layouts/application (8457.6ms)
  Rendered layouts/_refs.html.erb (1.3ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8526ms (Views: 8499.9ms | ActiveRecord: 3.7ms)
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$FtmJsv9fEdeF7tDTVyE/ReD5NMa.f.TJ2OrIeLfYBDIVq8vzYD.tK"], ["updated_at", "2017-07-19 04:17:10.702838"], ["id", 962534058]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 1.6ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_refs.html.erb (0.9ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.4ms)
Started GET "/courses" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by CoursesController#index as HTML
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."name" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mPrerequisite Load (0.2ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  Rendered shared/_courses.html.erb (12.7ms)
  Rendered courses/index.html.erb within layouts/application (16.1ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 36ms (Views: 31.8ms | ActiveRecord: 1.7ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CoursesControllerTest: test_reset_votes_successfully
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:10.781769"], ["updated_at", "2017-07-19 04:17:10.781769"], ["password_digest", "$2a$04$A5leRJUvUuXSbp5sa2k27.2bsJRNWFUYyh4r1yR2RK3h2UZA2Fhhy"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.5ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["firstname", "Administrator"], ["lastname", "RMIT"], ["email", "admin"], ["created_at", "2017-07-19 04:17:10.797314"], ["updated_at", "2017-07-19 04:17:10.797314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (6.4ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 28ms (Views: 24.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "upvotes" ("user_id", "course_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 962534058], ["course_id", 365508689], ["created_at", "2017-07-19 04:17:10.823547"], ["updated_at", "2017-07-19 04:17:10.823547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "downvotes" ("user_id", "course_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 830138774], ["course_id", 365508689], ["created_at", "2017-07-19 04:17:10.827518"], ["updated_at", "2017-07-19 04:17:10.827518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/courses/365508689/votes" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by CoursesController#reset_votes as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Load (0.5ms)[0m  [1m[34mSELECT "upvotes".* FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "upvotes" WHERE "upvotes"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDownvote Load (0.2ms)[0m  [1m[34mSELECT "downvotes".* FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "downvotes" WHERE "downvotes"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 38ms (ActiveRecord: 1.6ms)
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDownvote Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "downvotes" WHERE "downvotes"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
CoursesControllerTest: test_guest_cannot_create_courses
-------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:10.874405"], ["updated_at", "2017-07-19 04:17:10.874405"], ["password_digest", "$2a$04$VY2ERqjesansuCyUPzDKKelQ9QhZHOcq9mllmsZtFa0fPVOFtXMcu"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
Started GET "/courses/new" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by CoursesController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_users_only rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  Rendered sessions/new.html.erb within layouts/application (84.0ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.7ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (6.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 108ms (Views: 102.1ms | ActiveRecord: 1.0ms)
Started POST "/courses" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by CoursesController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_users_only rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:10 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 18.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
CoursesControllerTest: test_logged_in_user_and_guest_can_visit_individual_courses
---------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:11.028793"], ["updated_at", "2017-07-19 04:17:11.028793"], ["password_digest", "$2a$04$N29aaJUQUDD63ZSXve1NhO0oCw0Z2T1ihuEFEDJ960U2ywm8ztNxa"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
Started GET "/courses.365508689" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by CoursesController#index as 
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."name" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  Rendered shared/_flash_messages.html.erb (0.5ms)
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mPrerequisite Load (0.2ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  Rendered shared/_courses.html.erb (28.9ms)
  Rendered courses/index.html.erb within layouts/application (44.9ms)
  Rendered layouts/_refs.html.erb (0.9ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 121ms (Views: 108.4ms | ActiveRecord: 1.8ms)
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$xaZAbasaF.PXVwmPEEaGBOE/ohM0Lx.AhV7Bf.IbUd/N2P6j852k."], ["updated_at", "2017-07-19 04:17:11.167812"], ["id", 962534058]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 4.5ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_refs.html.erb (0.8ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.3ms)
Started GET "/courses.365508689" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by CoursesController#index as 
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."name" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  Rendered shared/_flash_messages.html.erb (1.4ms)
  [1m[36mPrerequisite Load (0.2ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  Rendered shared/_courses.html.erb (33.5ms)
  Rendered courses/index.html.erb within layouts/application (45.6ms)
  Rendered layouts/_refs.html.erb (1.7ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 125ms (Views: 108.5ms | ActiveRecord: 1.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CoursesControllerTest: test_create_course_successful
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (3.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:11.331141"], ["updated_at", "2017-07-19 04:17:11.331141"], ["password_digest", "$2a$04$tLzmojPHdBEFi/AyEmVQGuOSOcLQZNyUfOE3vLs.jSFv5G5FyUl4."]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$76MoVl5x8Sdj6ojZFUibUey.yQkpxOoAAqpIKWROxEVR086rouOXm"], ["updated_at", "2017-07-19 04:17:11.343060"], ["id", 962534058]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_refs.html.erb (1.6ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 0.6ms)
Started POST "/courses" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by CoursesController#create as HTML
  Parameters: {"course"=>{"name"=>"Example Course", "description"=>"Example descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample description", "prerequisites"=>["365508689"], "locations"=>["573383855"], "categories"=>["365508689"]}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT  "prerequisites".* FROM "prerequisites" WHERE "prerequisites"."id" = ? ORDER BY "prerequisites"."id" ASC LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "prerequisites" ("id") VALUES (?)[0m  [["id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Web Development"], ["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "080.04.006"], ["id", 573383855], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "Example Course"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Web Development"], ["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "080.04.006"], ["id", 573383855], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "Example Course"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("name", "user_id", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Course"], ["user_id", 962534058], ["description", "Example descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample description"], ["created_at", "2017-07-19 04:17:11.402710"], ["updated_at", "2017-07-19 04:17:11.402710"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "categories_courses" ("course_id", "category_id") VALUES (?, ?)[0m  [["course_id", 411008528], ["category_id", 365508689]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "courses_locations" ("course_id", "location_id") VALUES (?, ?)[0m  [["course_id", 411008528], ["location_id", 573383855]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "courses_prerequisites" ("course_id", "prerequisite_id") VALUES (?, ?)[0m  [["course_id", 411008528], ["prerequisite_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 33ms (ActiveRecord: 4.2ms)
Started GET "/courses" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by CoursesController#index as HTML
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."name" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 411008528]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 411008528]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 411008528]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 411008528]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 411008528]]
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  Rendered shared/_courses.html.erb (24.7ms)
  Rendered courses/index.html.erb within layouts/application (27.4ms)
  Rendered layouts/_refs.html.erb (1.5ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 45ms (Views: 39.7ms | ActiveRecord: 2.7ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CoursesControllerTest: test_delete_course_successful
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (3.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:11.462921"], ["updated_at", "2017-07-19 04:17:11.462921"], ["password_digest", "$2a$04$Uls.7MHYkk4E9vFNxuREkejDZvFszqI7hzEIS88jSpe2y1Eh1sI9K"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["firstname", "Administrator"], ["lastname", "RMIT"], ["email", "admin"], ["created_at", "2017-07-19 04:17:11.489664"], ["updated_at", "2017-07-19 04:17:11.489664"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_refs.html.erb (0.8ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (6.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 21.9ms | ActiveRecord: 1.4ms)
Started DELETE "/courses/365508689" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by CoursesController#destroy as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUpvote Load (0.1ms)[0m  [1m[34mSELECT "upvotes".* FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mDownvote Load (0.1ms)[0m  [1m[34mSELECT "downvotes".* FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "courses_prerequisites" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "courses_locations" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories_courses" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35mSQL (1.2ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."id" = ?[0m  [["id", 365508689]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" WHERE "prerequisites"."id" = ?[0m  [["id", 365508689]]
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 2.3ms)
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CoursesControllerTest: test_should_get_new_course_and_show_title
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:11.527820"], ["updated_at", "2017-07-19 04:17:11.527820"], ["password_digest", "$2a$04$drSIAj4eZVMTS1SsrOJ0DOMcURXlKK0qFA2OYFno8EkVuguaL2q22"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$pjyv6iaP.7sWfH8RZifrwuzPsGlyR0ZJuFS2iL9uWgRHH01vikAES"], ["updated_at", "2017-07-19 04:17:11.536852"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (5.2ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.2ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by CoursesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendering courses/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.4ms)
  Rendered shared/_collection_error_messages.html.erb (0.6ms)
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  Rendered courses/_form.html.erb (32.5ms)
  Rendered courses/new.html.erb within layouts/application (34.3ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 50ms (Views: 46.7ms | ActiveRecord: 0.5ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CoursesControllerTest: test_update_course_successful
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:11.628061"], ["updated_at", "2017-07-19 04:17:11.628061"], ["password_digest", "$2a$04$YApqA1R9giDtwnF4zMHJi.2tquxKi1nrcCEWEu7gVdDy1o6eR1X6m"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$txxxhqL6274z.x2WDFPLYud7taJMuBZAA.oNY5cztEZ/fF8vtuaYq"], ["updated_at", "2017-07-19 04:17:11.639176"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (5.7ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.3ms)
Started PUT "/courses/365508689" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by CoursesController#update as HTML
  Parameters: {"course"=>{"name"=>"Example Course", "description"=>"Example descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample description", "prerequisites"=>["365508689"], "locations"=>["573383855"], "categories"=>["365508689"], "id"=>"365508689"}, "id"=>"365508689"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? ORDER BY "courses"."id" ASC LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT  "prerequisites".* FROM "prerequisites" WHERE "prerequisites"."id" = ? ORDER BY "prerequisites"."id" ASC LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "prerequisites" ("id") VALUES (?)[0m  [["id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mPrerequisite Load (0.0ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "courses_prerequisites" ("course_id", "prerequisite_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["prerequisite_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "courses_locations" ("course_id", "location_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["location_id", 573383855]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "categories_courses" ("course_id", "category_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["category_id", 365508689]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) AND ("courses"."id" != ?) LIMIT ?[0m  [["name", "Example Course"], ["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) AND ("courses"."id" != ?) LIMIT ?[0m  [["name", "Example Course"], ["id", 365508689], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "courses" SET "name" = ?, "description" = ?, "updated_at" = ? WHERE "courses"."id" = ?[0m  [["name", "Example Course"], ["description", "Example descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample descriptionExample description"], ["updated_at", "2017-07-19 04:17:11.689156"], ["id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 21ms (ActiveRecord: 3.0ms)
Started GET "/courses" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by CoursesController#index as HTML
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."name" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  Rendered shared/_courses.html.erb (14.0ms)
  Rendered courses/index.html.erb within layouts/application (17.6ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 1.5ms)
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CourseTest: test_description_should_be_present
----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (3.1ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:11.741302"], ["updated_at", "2017-07-19 04:17:11.741302"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:11.746420"], ["updated_at", "2017-07-19 04:17:11.746420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Test Category"], ["id", 365508690], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "000.00.000"], ["id", 573383856], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "Example Course"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CourseTest: test_description_should_not_be_too_short
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:11.759769"], ["updated_at", "2017-07-19 04:17:11.759769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:11.763477"], ["updated_at", "2017-07-19 04:17:11.763477"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Test Category"], ["id", 365508690], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "000.00.000"], ["id", 573383856], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "Example Course"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CourseTest: test_name_is_invalid
--------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:11.779190"], ["updated_at", "2017-07-19 04:17:11.779190"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:11.782127"], ["updated_at", "2017-07-19 04:17:11.782127"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Test Category"], ["id", 365508690], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "000.00.000"], ["id", 573383856], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "w@b"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CourseTest: test_description_should_not_be_too_long
---------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:11.792972"], ["updated_at", "2017-07-19 04:17:11.792972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (3.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:11.797802"], ["updated_at", "2017-07-19 04:17:11.797802"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Test Category"], ["id", 365508690], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "000.00.000"], ["id", 573383856], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "Example Course"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CourseTest: test_name_should_not_be_too_short
---------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:11.813923"], ["updated_at", "2017-07-19 04:17:11.813923"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:11.818093"], ["updated_at", "2017-07-19 04:17:11.818093"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Test Category"], ["id", 365508690], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "000.00.000"], ["id", 573383856], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:11.828965"], ["updated_at", "2017-07-19 04:17:11.828965"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:11.834763"], ["updated_at", "2017-07-19 04:17:11.834763"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Test Category"], ["id", 365508690], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "000.00.000"], ["id", 573383856], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "Example Course"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CourseTest: test_name_should_be_present
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:11.851114"], ["updated_at", "2017-07-19 04:17:11.851114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:11.854599"], ["updated_at", "2017-07-19 04:17:11.854599"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Test Category"], ["id", 365508690], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "000.00.000"], ["id", 573383856], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", " "], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CourseTest: test_name_should_not_be_too_long
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:11.865065"], ["updated_at", "2017-07-19 04:17:11.865065"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:11.871529"], ["updated_at", "2017-07-19 04:17:11.871529"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "Test Category"], ["id", 365508690], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "000.00.000"], ["id", 573383856], ["LIMIT", 1]]
  [1m[36mCourse Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "courses" WHERE LOWER("courses"."name") = LOWER(?) LIMIT ?[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
UserLoginTest: test_invalid_login_details
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:11.890060"], ["updated_at", "2017-07-19 04:17:11.890060"], ["password_digest", "$2a$04$BnIQJFhsqD2QHC41IyoMZeVjamLtKn8WkEpxGphygJUINCh5HPeDG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.8ms)
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.2ms)
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.5ms)
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_refs.html.erb (1.1ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
UserLoginTest: test_should_get_new
----------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:11.942226"], ["updated_at", "2017-07-19 04:17:11.942226"], ["password_digest", "$2a$04$wmTe41UlVELd592s7JydJOJ73/9W1UyeOqKOv0sgym0i.qzLzsOSi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.7ms)
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 21.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
UserLoginTest: test_login_successful
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:11.974400"], ["updated_at", "2017-07-19 04:17:11.974400"], ["password_digest", "$2a$04$woSCCh.VIPii5XXws.29hu7oE2jZZHkZvnATi1mlukCgVkel7tZuu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:11 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (1.5ms)
  Rendered sessions/new.html.erb within layouts/application (5.7ms)
  Rendered layouts/_refs.html.erb (1.5ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.3ms)
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_refs.html.erb (2.0ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
UserLoginTest: test_no_remember_token
-------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.037000"], ["updated_at", "2017-07-19 04:17:12.037000"], ["password_digest", "$2a$04$6TikFGS8wHdtVyhr5/WiGupHkoY2l5teiYtblQfSBpuxF4G5OQcL."]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.042886"], ["updated_at", "2017-07-19 04:17:12.042886"], ["password_digest", "$2a$04$7FzVH5NNxk6uoCUNv3F50e5LmAb6HefKymltBBBogcB/E93cLggFe"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$ZyRqsyGhlOJ3LNtEim2WY.0vtG51FWRoGz1v5Kgjmj0jR6Iy8veVa"], ["updated_at", "2017-07-19 04:17:12.048912"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (6.5ms)
  Rendered layouts/_refs.html.erb (1.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_different_digest
-----------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$QCQl6og02nBGa.wNdBVbAuNFhq6fADp54fo/EfWlVVqqRjBNuAmOW"], ["updated_at", "2017-07-19 04:17:12.087308"], ["id", 830138774]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$cHwM1UpBR/oqpQ57.Giv2u0FJWNXxyusY2cQZKrd./Hptk1czPdQ2"], ["updated_at", "2017-07-19 04:17:12.092088"], ["id", 830138774]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$X0BI6FozXapBVNivRneD0.fqbMONPmoqt7mLtgl5Vo3OjmTXjWs36"], ["updated_at", "2017-07-19 04:17:12.102088"], ["id", 830138774]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_forgotten
----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$qAUqOmx5AjfvZp0Qs4vINe9uVqDJZssNYY328ve8YJpNemv28JdM."], ["updated_at", "2017-07-19 04:17:12.111909"], ["id", 830138774]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2017-07-19 04:17:12.114271"], ["id", 830138774]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
CategoryTest: test_has_many_courses
-----------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_name_is_invalid
----------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "abc@3323$$"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CategoryTest: test_category_is_capitalized
------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "test category"], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:12.140879"], ["updated_at", "2017-07-19 04:17:12.140879"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
CategoryTest: test_name_already_exists
--------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Category"], ["created_at", "2017-07-19 04:17:12.148516"], ["updated_at", "2017-07-19 04:17:12.148516"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "Test Category"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
CategoryTest: test_name_is_blank
--------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", ""], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
CategoryTest: test_name_is_less_than_2_characters_long
------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
CategoryTest: test_name_is_greater_than_32_characters_long
----------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) LIMIT ?[0m  [["name", "111111111111111111111111111111111"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
SessionsControllerTest: test_should_get_login_page
--------------------------------------------------
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.5ms)
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 23ms (Views: 18.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
LocationsControllerTest: test_guest_should_not_create_locations
---------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.192684"], ["updated_at", "2017-07-19 04:17:12.192684"], ["password_digest", "$2a$04$7EWbnFB1QzfDp1hsiD1YE.8yH0k9B7I82SzwYn/EyojB2tw4fM5jy"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "courses_locations" ("course_id", "location_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["location_id", 573383855]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/locations/new" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by LocationsController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_users_only rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.8ms)
  Rendered sessions/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_refs.html.erb (2.1ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (12.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.3ms)
Started POST "/locations" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by LocationsController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_users_only rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.4ms)
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
LocationsControllerTest: test_guest_and_logged_in_user_can_visit_individual_location_page
-----------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.286815"], ["updated_at", "2017-07-19 04:17:12.286815"], ["password_digest", "$2a$04$2XS8lBOQzgayKkazcIHrbOcz0p1wsaEkX3GD2mGYEHZHfWJqJSizi"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "courses_locations" ("course_id", "location_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["location_id", 573383855]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/locations.573383855" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by LocationsController#index as 
  Rendering locations/index.html.erb within layouts/application
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 160114745], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 160114745]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 438645419], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 438645419]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 573383855], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 573383855]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 474635052], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 474635052]]
  Rendered locations/index.html.erb within layouts/application (31.6ms)
  Rendered layouts/_refs.html.erb (1.7ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 106ms (Views: 92.8ms | ActiveRecord: 1.6ms)
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.5ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$XgcwD5P644yqwBZgoREUbOf/aIz0ekaZEIdIdlGu95aaXq2L.Ypcu"], ["updated_at", "2017-07-19 04:17:12.406393"], ["id", 962534058]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 3.7ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.5ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_refs.html.erb (1.7ms)
  Rendered layouts/_shim.html.erb (1.0ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 20.9ms | ActiveRecord: 0.2ms)
Started GET "/locations.573383855" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by LocationsController#index as 
  Rendering locations/index.html.erb within layouts/application
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered shared/_flash_messages.html.erb (0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 160114745], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 160114745]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 438645419], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 438645419]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 573383855], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 573383855]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 474635052], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 474635052]]
  Rendered locations/index.html.erb within layouts/application (30.4ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 118ms (Views: 103.0ms | ActiveRecord: 1.7ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
LocationsControllerTest: test_delete_location_successful
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.566556"], ["updated_at", "2017-07-19 04:17:12.566556"], ["password_digest", "$2a$04$OK1hXyI80ubR0cDJ.ZMeseLI6LVpTg05tLvrLPKs/U6uuALU5p5fm"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "courses_locations" ("course_id", "location_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["location_id", 573383855]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["firstname", "Administrator"], ["lastname", "RMIT"], ["email", "admin"], ["created_at", "2017-07-19 04:17:12.593585"], ["updated_at", "2017-07-19 04:17:12.593585"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (5.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 28ms (Views: 22.9ms | ActiveRecord: 1.4ms)
Started DELETE "/locations/573383855" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by LocationsController#destroy as HTML
  Parameters: {"id"=>"573383855"}
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "courses_locations" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 573383855]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "locations" WHERE "locations"."id" = ?[0m  [["id", 573383855]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ? ORDER BY "locations"."id" ASC LIMIT ?[0m  [["course_id", 365508689], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------
LocationsControllerTest: test_update_location_successful
--------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.628584"], ["updated_at", "2017-07-19 04:17:12.628584"], ["password_digest", "$2a$04$IxrMUJrGn.xlGryajf3/eumdghsGP26/iidSk8UqVu8woWIO9vkN6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "courses_locations" ("course_id", "location_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["location_id", 573383855]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$Pq0bhTIGWdt91Yd6keR4tOovnAYHZe8t2FegnL6I4rJPwr9s6WsXK"], ["updated_at", "2017-07-19 04:17:12.639744"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_refs.html.erb (1.3ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.4ms)
Started PUT "/locations/573383855" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by LocationsController#update as HTML
  Parameters: {"location"=>{"id"=>"573383855", "name"=>"002.02.002"}, "id"=>"573383855"}
  [1m[36mLocation Load (0.0ms)[0m  [1m[34mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT ?[0m  [["id", 573383855], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) AND ("locations"."id" != ?) LIMIT ?[0m  [["name", "002.02.002"], ["id", 573383855], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "locations" SET "name" = ?, "updated_at" = ? WHERE "locations"."id" = ?[0m  [["name", "002.02.002"], ["updated_at", "2017-07-19 04:17:12.672937"], ["id", 573383855]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/locations
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/locations" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by LocationsController#index as HTML
  Rendering locations/index.html.erb within layouts/application
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered shared/_flash_messages.html.erb (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 573383855], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 573383855]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 160114745], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 160114745]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 438645419], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 438645419]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["location_id", 474635052], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "courses_locations" ON "courses"."id" = "courses_locations"."course_id" WHERE "courses_locations"."location_id" = ?[0m  [["location_id", 474635052]]
  Rendered locations/index.html.erb within layouts/application (18.4ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 37ms (Views: 31.7ms | ActiveRecord: 1.7ms)
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (1.5ms)
  Rendered home/index.html.erb within layouts/application (6.0ms)
  Rendered layouts/_refs.html.erb (1.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserRegisterTest: test_invalid_signup_information
-------------------------------------------------
Started GET "/register" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_collection_error_messages.html.erb (0.6ms)
  Rendered shared/_flash_messages.html.erb (0.6ms)
  Rendered users/new.html.erb within layouts/application (9.0ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"firstname"=>"example", "lastname"=>"user", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", ""], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_collection_error_messages.html.erb (1.0ms)
  Rendered shared/_flash_messages.html.erb (0.7ms)
  Rendered users/new.html.erb within layouts/application (10.8ms)
  Rendered layouts/_refs.html.erb (1.6ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
UserRegisterTest: test_logged_in_user_should_not_register
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "example"], ["lastname", "user"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.821546"], ["updated_at", "2017-07-19 04:17:12.821546"], ["password_digest", "$2a$04$P1faSMUgTrufqi0zns.zXesI3k7AoRZnLnrSCuc/ZeLCGJq.Q6ABy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$BCCDrv5C8.1To00nImy2KeKiAqUNjtJIcKGI.sFjO7jNvHDfqvNWG"], ["updated_at", "2017-07-19 04:17:12.828583"], ["id", 962534058]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_refs.html.erb (2.4ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.3ms)
Started POST "/users" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by UsersController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
Redirected to http://www.example.com/
Filter chain halted as :guests_only rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (5.9ms)
  Rendered layouts/_refs.html.erb (1.4ms)
  Rendered layouts/_shim.html.erb (0.8ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 25.0ms | ActiveRecord: 0.3ms)
  [1m[35m (4.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
UserRegisterTest: test_register_successful
------------------------------------------
Started GET "/register" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_collection_error_messages.html.erb (0.8ms)
  Rendered shared/_flash_messages.html.erb (0.8ms)
  Rendered users/new.html.erb within layouts/application (8.3ms)
  Rendered layouts/_refs.html.erb (2.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 27ms (Views: 24.5ms | ActiveRecord: 0.3ms)
Started POST "/users" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"firstname"=>"example", "lastname"=>"user", "email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "example"], ["lastname", "user"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.931604"], ["updated_at", "2017-07-19 04:17:12.931604"], ["password_digest", "$2a$04$irggr4ZgU.mcKy1n67VpIO.UyRPmQ/F1YnF5iICap1wl2JuocqIUK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/login
Completed 302 Found in 6ms (ActiveRecord: 1.8ms)
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.5ms)
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_refs.html.erb (1.4ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CategoriesControllerTest: test_delete_category_successful
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:12.964846"], ["updated_at", "2017-07-19 04:17:12.964846"], ["password_digest", "$2a$04$pwVZZLtgTjpubxkWj1Urb.fTa/cP7DRluZJW5ncTN5dRNs4Yq7Ai6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories_courses" ("course_id", "category_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["category_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:12 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["firstname", "Administrator"], ["lastname", "RMIT"], ["email", "admin"], ["created_at", "2017-07-19 04:17:12.989013"], ["updated_at", "2017-07-19 04:17:12.989013"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (8.1ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 29ms (Views: 23.8ms | ActiveRecord: 2.0ms)
Started DELETE "/categories/365508689" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CategoriesController#destroy as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "categories_courses" WHERE "categories_courses"."category_id" = ?[0m  [["category_id", 365508689]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ? ORDER BY "categories"."id" ASC LIMIT ?[0m  [["course_id", 365508689], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CategoriesControllerTest: test_guest_should_not_create_categories
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:13.037029"], ["updated_at", "2017-07-19 04:17:13.037029"], ["password_digest", "$2a$04$57Ki/SL1.x.I3BcHHi05HOquWAOsU9l5/H7P2.7tVW.zPbKWGwjxm"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories_courses" ("course_id", "category_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["category_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CategoriesController#new as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_users_only rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.3ms)
Started POST "/categories" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CategoriesController#create as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_users_only rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.4ms)
  Rendered sessions/new.html.erb within layouts/application (2.9ms)
  Rendered layouts/_refs.html.erb (2.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CategoriesControllerTest: test_update_category_successful
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:13.102005"], ["updated_at", "2017-07-19 04:17:13.102005"], ["password_digest", "$2a$04$J7udJ3gDDArAdBfmeLsDPOWN2P30CeyTqnmmKfJReGEZuvK/18Wva"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories_courses" ("course_id", "category_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["category_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$k5wtxTxRl2MpYYP.Rw.u8.95b8infL9xAPmYlgMULE.5.GY5cEZym"], ["updated_at", "2017-07-19 04:17:13.111446"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_refs.html.erb (2.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.3ms)
Started PUT "/categories/365508689" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CategoriesController#update as HTML
  Parameters: {"category"=>{"id"=>"365508689", "name"=>"test"}, "id"=>"365508689"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
Unpermitted parameter: id
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE LOWER("categories"."name") = LOWER(?) AND ("categories"."id" != ?) LIMIT ?[0m  [["name", "test"], ["id", 365508689], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "categories" SET "name" = ?, "updated_at" = ? WHERE "categories"."id" = ?[0m  [["name", "Test"], ["updated_at", "2017-07-19 04:17:13.145910"], ["id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/categories" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CategoriesController#index as HTML
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  Rendered shared/_flash_messages.html.erb (0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "categories_courses" ON "courses"."id" = "categories_courses"."course_id" WHERE "categories_courses"."category_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["category_id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "categories_courses" ON "courses"."id" = "categories_courses"."course_id" WHERE "categories_courses"."category_id" = ?[0m  [["category_id", 365508689]]
  Rendered categories/index.html.erb within layouts/application (10.7ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------
CategoriesControllerTest: test_guest_and_logged_in_user_can_visit_individual_category_page
------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:13.183963"], ["updated_at", "2017-07-19 04:17:13.183963"], ["password_digest", "$2a$04$YuDwNzmZVSoYEgRgihEyo.a6gjBL5kO0R51mbyPzgODDqaKCzvUEi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories_courses" ("course_id", "category_id") VALUES (?, ?)[0m  [["course_id", 365508689], ["category_id", 365508689]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories.365508689" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CategoriesController#index as 
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  Rendered shared/_flash_messages.html.erb (0.4ms)
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "categories_courses" ON "courses"."id" = "categories_courses"."course_id" WHERE "categories_courses"."category_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["category_id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "categories_courses" ON "courses"."id" = "categories_courses"."course_id" WHERE "categories_courses"."category_id" = ?[0m  [["category_id", 365508689]]
  Rendered categories/index.html.erb within layouts/application (16.7ms)
  Rendered layouts/_refs.html.erb (1.6ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 95ms (Views: 80.1ms | ActiveRecord: 0.6ms)
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.9ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$AdlFwfdykhBCTmX7GCH0Oe8z8p7odLgmchtYti4mbjzi2KZma8eV6"], ["updated_at", "2017-07-19 04:17:13.289144"], ["id", 962534058]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 3.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_refs.html.erb (1.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 20.6ms | ActiveRecord: 0.2ms)
Started GET "/categories.365508689" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CategoriesController#index as 
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  Rendered shared/_flash_messages.html.erb (0.8ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" INNER JOIN "categories_courses" ON "courses"."id" = "categories_courses"."course_id" WHERE "categories_courses"."category_id" = ? ORDER BY "courses"."updated_at" DESC LIMIT ?[0m  [["category_id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses" INNER JOIN "categories_courses" ON "courses"."id" = "categories_courses"."course_id" WHERE "categories_courses"."category_id" = ?[0m  [["category_id", 365508689]]
  Rendered categories/index.html.erb within layouts/application (19.5ms)
  Rendered layouts/_refs.html.erb (1.4ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 97ms (Views: 83.6ms | ActiveRecord: 0.5ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
UserVoteTest: test_logged_in_should_be_able_to_upvote
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (3.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:13.428654"], ["updated_at", "2017-07-19 04:17:13.428654"], ["password_digest", "$2a$04$JSsdzKCSBmgLDValaAQndOIaRqNMNSAeZ9pjBxTN5UQ1GUyGFxG2a"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$90MXmHIraF19HzoaJpDmmeqPj.Gt./jzg6IfDdVmAFqblZpW7JawW"], ["updated_at", "2017-07-19 04:17:13.439137"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (6.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.4ms)
Started POST "/courses/365508689/upvote" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by UpvotesController#new as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."user_id" = ? AND "upvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
  [1m[36mDownvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "downvotes" WHERE "downvotes"."user_id" = ? AND "downvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "upvotes" ("user_id", "course_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 962534058], ["course_id", 365508689], ["created_at", "2017-07-19 04:17:13.493399"], ["updated_at", "2017-07-19 04:17:13.493399"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_refs.html.erb (0.8ms)
  Rendered layouts/_shim.html.erb (0.7ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 19ms (Views: 15.9ms | ActiveRecord: 0.2ms)
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."course_id" = ? LIMIT ?[0m  [["course_id", 365508689], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
UserVoteTest: test_user_cannot_downvote_after_upvote_and_vice_versa
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:13.529745"], ["updated_at", "2017-07-19 04:17:13.529745"], ["password_digest", "$2a$04$l3pqTe0nKygmmQjiB.uQ4..766GJAHoRd7wYATD.x6C8FURumiPDq"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$2F9QI0hA5rZuEt45aLECgO8Y8bSP2Ox0lu26iJBFhN6jB0xcj8kz6"], ["updated_at", "2017-07-19 04:17:13.542260"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.8ms)
  Rendered layouts/_refs.html.erb (1.4ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.4ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (6.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 0.6ms)
Started POST "/courses/365508689/upvote" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by UpvotesController#new as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."user_id" = ? AND "upvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
  [1m[36mDownvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "downvotes" WHERE "downvotes"."user_id" = ? AND "downvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "upvotes" ("user_id", "course_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 962534058], ["course_id", 365508689], ["created_at", "2017-07-19 04:17:13.577610"], ["updated_at", "2017-07-19 04:17:13.577610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_refs.html.erb (1.2ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (6.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 19.0ms | ActiveRecord: 0.5ms)
Started POST "/courses/365508689/downvote" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by DownvotesController#new as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mDownvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "downvotes" WHERE "downvotes"."user_id" = ? AND "downvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."user_id" = ? AND "upvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_refs.html.erb (2.4ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.3ms)
Started POST "/courses/365508689/downvote" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by DownvotesController#new as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mDownvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "downvotes" WHERE "downvotes"."user_id" = ? AND "downvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."user_id" = ? AND "upvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_refs.html.erb (1.4ms)
  Rendered layouts/_shim.html.erb (0.8ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 0.5ms)
Started POST "/courses/365508689/upvote" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by UpvotesController#new as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."user_id" = ? AND "upvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_refs.html.erb (1.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 22ms (Views: 19.5ms | ActiveRecord: 0.3ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
UserVoteTest: test_guests_should_not_upvote
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (3.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:13.725063"], ["updated_at", "2017-07-19 04:17:13.725063"], ["password_digest", "$2a$04$JPxRkEFVNShfK4gb6eWbZ.WbF/MVmCv9P7LVMXkuQ.C0FUWvhUzbW"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
Started POST "/courses/365508689/upvote" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by UpvotesController#new as HTML
  Parameters: {"id"=>"365508689"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_users_only rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."course_id" = ? LIMIT ?[0m  [["course_id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------
UserVoteTest: test_reset_votes
------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:13.739123"], ["updated_at", "2017-07-19 04:17:13.739123"], ["password_digest", "$2a$04$zVhbNPuZke05mDcyEIiDf.FGf90hyWMiYQTyaz.0a3la9.UbByDT."]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["firstname", "Administrator"], ["lastname", "RMIT"], ["email", "admin"], ["created_at", "2017-07-19 04:17:13.761174"], ["updated_at", "2017-07-19 04:17:13.761174"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 20.5ms | ActiveRecord: 1.5ms)
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "upvotes" ("user_id", "course_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 962534058], ["course_id", 365508689], ["created_at", "2017-07-19 04:17:13.777972"], ["updated_at", "2017-07-19 04:17:13.777972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "downvotes" ("user_id", "course_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 830138774], ["course_id", 365508689], ["created_at", "2017-07-19 04:17:13.779808"], ["updated_at", "2017-07-19 04:17:13.779808"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/courses/365508689/votes" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CoursesController#reset_votes as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Load (0.1ms)[0m  [1m[34mSELECT "upvotes".* FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "upvotes" WHERE "upvotes"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDownvote Load (0.1ms)[0m  [1m[34mSELECT "downvotes".* FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "downvotes" WHERE "downvotes"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 8ms (ActiveRecord: 0.9ms)
Started GET "/courses" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by CoursesController#index as HTML
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."name" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mPrerequisite Load (0.1ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 411008527]]
  [1m[36mPrerequisite Load (0.2ms)[0m  [1m[34mSELECT "prerequisites".* FROM "prerequisites" INNER JOIN "courses_prerequisites" ON "prerequisites"."id" = "courses_prerequisites"."prerequisite_id" WHERE "courses_prerequisites"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mLocation Load (0.3ms)[0m  [1m[34mSELECT "locations".* FROM "locations" INNER JOIN "courses_locations" ON "locations"."id" = "courses_locations"."location_id" WHERE "courses_locations"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" INNER JOIN "categories_courses" ON "categories"."id" = "categories_courses"."category_id" WHERE "categories_courses"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "downvotes" WHERE "downvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "upvotes" WHERE "upvotes"."course_id" = ?[0m  [["course_id", 365508689]]
  Rendered shared/_courses.html.erb (18.0ms)
  Rendered courses/index.html.erb within layouts/application (20.3ms)
  Rendered layouts/_refs.html.erb (1.1ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (8.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 44ms (Views: 39.1ms | ActiveRecord: 2.1ms)
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."course_id" = ? LIMIT ?[0m  [["course_id", 365508689], ["LIMIT", 1]]
  [1m[36mDownvote Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "downvotes" WHERE "downvotes"."course_id" = ? LIMIT ?[0m  [["course_id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
UserVoteTest: test_user_can_only_upvote_once
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:13.844083"], ["updated_at", "2017-07-19 04:17:13.844083"], ["password_digest", "$2a$04$j1H/lJH7059MgzuDOWMQtOll1fNyLVWBfzg3dZc414TdMv.OTrdHG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 830138774], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$eb.FMCTiKugt9jzzXj0AIOEtGiXsbUPHV4Bo.09KU6giahFAg0aM2"], ["updated_at", "2017-07-19 04:17:13.854194"], ["id", 962534058]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.7ms)
  Rendered layouts/_refs.html.erb (1.5ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 0.3ms)
Started POST "/courses/365508689/upvote" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by UpvotesController#new as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."user_id" = ? AND "upvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
  [1m[36mDownvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "downvotes" WHERE "downvotes"."user_id" = ? AND "downvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "upvotes" ("user_id", "course_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 962534058], ["course_id", 365508689], ["created_at", "2017-07-19 04:17:13.890154"], ["updated_at", "2017-07-19 04:17:13.890154"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_refs.html.erb (1.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 25ms (Views: 21.7ms | ActiveRecord: 0.3ms)
Started POST "/courses/365508689/upvote" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by UpvotesController#new as HTML
  Parameters: {"id"=>"365508689"}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mUpvote Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "upvotes" WHERE "upvotes"."user_id" = ? AND "upvotes"."course_id" = ? LIMIT ?[0m  [["user_id", 962534058], ["course_id", 365508689], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (6.2ms)
  Rendered layouts/_refs.html.erb (1.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
AdminSessionTest: test_admin_logout
-----------------------------------
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.8ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["firstname", "Administrator"], ["lastname", "RMIT"], ["email", "admin"], ["created_at", "2017-07-19 04:17:13.963428"], ["updated_at", "2017-07-19 04:17:13.963428"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (12.8ms)
  Rendered layouts/_refs.html.erb (1.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (6.4ms)
  Rendered layouts/_footer.html.erb (0.2ms)
Completed 200 OK in 32ms (Views: 25.0ms | ActiveRecord: 5.8ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
AdminSessionTest: test_admin_login
----------------------------------
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:13 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
UsersControllerTest: test_guest_can_visit_register_page
-------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:14.002514"], ["updated_at", "2017-07-19 04:17:14.002514"], ["password_digest", "$2a$04$WW9H3rwhfAY.uUBB7UT5H.SD/l92/qDHmqWmg1SgVk9Zl0ap4.Q6."]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by UsersController#create as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_collection_error_messages.html.erb (1.2ms)
  Rendered shared/_flash_messages.html.erb (0.3ms)
  Rendered users/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_refs.html.erb (0.8ms)
  Rendered layouts/_shim.html.erb (0.6ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 31ms (Views: 23.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
UsersControllerTest: test_delete_user_successful
------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:14.043174"], ["updated_at", "2017-07-19 04:17:14.043174"], ["password_digest", "$2a$04$R8Mo3AlZDyG6eibA8zrLEu4eSfjz1oKbMp3W0bpFvgHMxf3sygACm"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["firstname", "Administrator"], ["lastname", "RMIT"], ["email", "admin"], ["created_at", "2017-07-19 04:17:14.062060"], ["updated_at", "2017-07-19 04:17:14.062060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_refs.html.erb (0.8ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admin"], ["LIMIT", 1]]
  Rendered layouts/_header.html.erb (6.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 25ms (Views: 20.4ms | ActiveRecord: 2.1ms)
Started DELETE "/users/962534058" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"962534058"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
UsersControllerTest: test_guest_and_logged_in_user_can_visit_individual_user_page
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:14.095612"], ["updated_at", "2017-07-19 04:17:14.095612"], ["password_digest", "$2a$04$zhvbkbgJCrpCAJKdVlVAleYSp31HNAIYqmgIlpgaD2UbNA7VkFnAO"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users.962534058" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by UsersController#index as 
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."email" != ?)[0m  [["email", "admin"]]
  Rendered shared/_flash_messages.html.erb (0.4ms)
  Rendered users/index.html.erb within layouts/application (20.7ms)
  Rendered layouts/_refs.html.erb (1.6ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.3ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 99ms (Views: 86.5ms | ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$NM8aFN4nhceuBz.M7W3Jg.jlVXE8qDwpKi7k4yKBkJ1aLudKS7.hG"], ["updated_at", "2017-07-19 04:17:14.206431"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_refs.html.erb (1.3ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.3ms)
Started GET "/users.962534058" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by UsersController#index as 
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE ("users"."email" != ?)[0m  [["email", "admin"]]
  Rendered shared/_flash_messages.html.erb (0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered users/index.html.erb within layouts/application (23.4ms)
  Rendered layouts/_refs.html.erb (1.0ms)
  Rendered layouts/_shim.html.erb (0.5ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 96ms (Views: 83.5ms | ActiveRecord: 0.4ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------
UsersControllerTest: test_should_get_login_page
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (3.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:14.341524"], ["updated_at", "2017-07-19 04:17:14.341524"], ["password_digest", "$2a$04$j6QqbPuFXLxfkLnNNndyY.5gyVi1PH1FM8Q4I1M53hMqOqeWNngIO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  Rendered sessions/new.html.erb within layouts/application (2.7ms)
  Rendered layouts/_refs.html.erb (0.9ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.4ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------
UsersControllerTest: test_should_get_register_page
--------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:14.375095"], ["updated_at", "2017-07-19 04:17:14.375095"], ["password_digest", "$2a$04$65rfeEIOzrl/snIQC0lRn.ZCm2VIGcWSNvF0xGE4FjvqUI0fqUypO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/register" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_collection_error_messages.html.erb (0.4ms)
  Rendered shared/_flash_messages.html.erb (0.3ms)
  Rendered users/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_refs.html.erb (0.9ms)
  Rendered layouts/_shim.html.erb (0.2ms)
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.4ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 21.4ms | ActiveRecord: 0.7ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserLogoutTest: test_guest_cannot_logout
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:14.411112"], ["updated_at", "2017-07-19 04:17:14.411112"], ["password_digest", "$2a$04$.Vduzdjf7mlDxxYNzSfos.kokpgDxe5hP1Tt90Kn6/QUHCYylH3oW"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/logout" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/login
Filter chain halted as :logged_users_only rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_refs.html.erb (0.8ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.2ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
UserLogoutTest: test_logout_successful
--------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER(?) LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "users" ("firstname", "lastname", "email", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["firstname", "Example"], ["lastname", "User"], ["email", "example.user@rmit.edu.au"], ["created_at", "2017-07-19 04:17:14.446412"], ["updated_at", "2017-07-19 04:17:14.446412"], ["password_digest", "$2a$04$IV84.DB3J7q6XkF5prp6Ouk9nlplaP3NAa1c.Bo19ZeTk4CaIICCS"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"example.user@rmit.edu.au", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "example.user@rmit.edu.au"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$UNBYfXvGNszeYwBGg04zxOMZwYiF9zqJHbe.l9Eb.hSwScMudyhNu"], ["updated_at", "2017-07-19 04:17:14.457250"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  Rendered home/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_refs.html.erb (1.4ms)
  Rendered layouts/_shim.html.erb (0.4ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 23ms (Views: 20.3ms | ActiveRecord: 0.3ms)
Started DELETE "/logout" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 962534058], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2017-07-19 04:17:14.489181"], ["id", 962534058]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-07-19 14:17:14 +1000
Processing by HomeController#index as HTML
  Rendering home/index.html.erb within layouts/application
  Rendered shared/_flash_messages.html.erb (0.3ms)
  Rendered home/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_refs.html.erb (0.9ms)
  Rendered layouts/_shim.html.erb (0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."name" ASC[0m
  [1m[36mLocation Load (0.1ms)[0m  [1m[34mSELECT "locations".* FROM "locations" ORDER BY "locations"."name" ASC[0m
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------
LocationTest: test_name_already_exists
--------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "locations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "000.00.000"], ["created_at", "2017-07-19 04:17:14.520175"], ["updated_at", "2017-07-19 04:17:14.520175"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LocationTest: test_should_be_valid
----------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "000.00.000"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------
LocationTest: test_has_many_courses
-----------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
LocationTest: test_name_is_blank
--------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", ""], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
LocationTest: test_name_is_invalid
----------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "abc"], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "110020030"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
LocationTest: test_name_is_not_10_characters_long
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 365508689], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = ? LIMIT ?[0m  [["id", 411008527], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "1"], ["LIMIT", 1]]
  [1m[36mLocation Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "locations" WHERE LOWER("locations"."name") = LOWER(?) LIMIT ?[0m  [["name", "11111111111"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
